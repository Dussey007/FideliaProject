{% extends 'GesClient/base.html' %}

{%block conteneur%}
        <h1  class="alert alert-dark" style="text-align: center;"><b>Modifications des Informations du compte</b></h1>

        <hr class="ligne">
        <br/>


              <div class="content">
                <div class="container">
                  <div class="row justify-content-center">
                    <div class="col-md-8 contents">
                      <div class="row justify-content-center">
                        <div class="col-md-12">
                          <div class="form-block">
                            <div class="mb-4">
                                  <h1>Modifications</h1>
                            </div>
                                  <span class="mb-0 text-muted">
                                    {% if msg %}
                                        {{ msg | safe }}
                                    {% else %}
                                        Informations
                                    {% endif %}
                                  </span>
                                  <br/>
                            <form action="" method="POST">
                                {% csrf_token %}
            
                              <div class="form-group first">Nom :
                                <label for="last_name"></label>
                                  {{ form.last_name }}
                              </div>
                              <div class="form-group first">Prénom :
                                <label for="first_name"></label>
                                  {{ form.first_name }}
                              </div>
                              <div class="form-group first">Nom d'utilisateur :
                                <label for="username"></label>
                                  {{ form.username }}
                              </div>
                              <div class="form-group first">Email:
                                <label for="email"></label>
                                  {{ form.email}}
                              </div>
                              <div class="form-group first">Poste:
                                <label for="poste"></label>
                                  {{ form.poste}}
                              </div>
                            
                                    <span class="text-error" style="color:red">{{ form.errors }}</span>
                                    <a href="{% url 'parametre'%}"  >Retour</a> <br/>
                                    <input type="submit"   value="Modifier" class="btn btn-pill text-white btn-block btn-success show_confirm">
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
{% endblock %}


{% block CustomScript %}
<script type="text/javascript">
  $('.show_confirm').click(function(event) {
      var form =  $(this).closest("form");
      var name = $(this).data("name");
      event.preventDefault();
      swal({
          title: `Voulez-vous vraiment supprimer ce utilisateur ?`,
          text: "Si vous le supprimez, il disparaîtra pour toujours.",
          icon: "warning",
          buttons: true,
          dangerMode: true,
      })
      .then((willDelete) => {
          if (willDelete) {
              form.submit();
          }
      });
  });
  
  </script>
{% endblock %}